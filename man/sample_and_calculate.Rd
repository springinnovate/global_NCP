% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rep_sample.R
\name{sample_and_calculate}
\alias{sample_and_calculate}
\title{Perform Random Sampling and Compute Summary Statistics on a SpatRaster}
\usage{
sample_and_calculate(raster, pixels_needed, confidence = 0.975)
}
\arguments{
\item{raster}{A \code{SpatRaster} object from the \code{terra} package. The raster to sample.}

\item{pixels_needed}{Integer. The number of pixels to sample.}

\item{confidence}{Numeric. The confidence level for margin of error calculation (default is 0.975 for 95\% CI).}
}
\value{
A data frame with summary statistics per raster band, including:
\itemize{
\item Mean (\code{mean})
\item Lower confidence interval (\code{lower_ci})
\item Upper confidence interval (\code{upper_ci})
\item Sum of pixel values (\code{sum})
}
}
\description{
This function performs a stratified random sampling on a \code{SpatRaster} object, extracts pixel values,
computes summary statistics (mean, confidence intervals, sum), and handles cases where insufficient
non-NA samples are available.
}
\examples{
library(terra)
r <- rast(ncol=100, nrow=100, nlyrs=3)
values(r) <- runif(ncell(r) * nlyr(r), min=0, max=100)
sample_and_calculate(raster = r, pixels_needed = 500)

}
