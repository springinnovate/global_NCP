% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregate_change_simple.R
\name{aggregate_change_simple}
\alias{aggregate_change_simple}
\title{Aggregate trimmed change by group (simple, fast)}
\usage{
aggregate_change_simple(
  plt_long,
  group_col,
  cut_q = 0.999,
  drop_zeros = TRUE,
  svc_order = NULL,
  add_global = FALSE
)
}
\arguments{
\item{plt_long}{Data frame with columns: service, abs_chg, pct_chg, and the grouping column.}

\item{group_col}{Character scalar naming the grouping column (e.g., "region_wb").}

\item{cut_q}{Numeric in (0,1); per-service trim quantile for |change|, default 0.999.}

\item{drop_zeros}{Logical; drop group rows where both metrics are 0, default TRUE.}

\item{svc_order}{Optional character vector to set facet order; extras are appended.}

\item{add_global}{Logical; if TRUE add a “Global” row per service.}
}
\value{
Tibble with columns: service, {group_col}, abs_mean, pct_mean.
}
\description{
For each service, trims extreme cell values, then aggregates the mean
magnitude of absolute and percent change within each group (e.g., region).
}
