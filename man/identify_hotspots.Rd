% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/identify_hotspots.R
\name{identify_hotspots}
\alias{identify_hotspots}
\title{Identify and summarize spatial hotspots based on service change thresholds}
\usage{
identify_hotspots(
  df,
  fid_col = "fid",
  c_fid_col = "c_fid",
  service_col = "service",
  value_col = "pct_chg",
  combos = list(),
  loss_services = character(),
  gain_services = character(),
  pct_cutoff = 0.05,
  type = c("negative", "positive", "both"),
  sf_data = NULL
)
}
\arguments{
\item{df}{A long-format dataframe with one row per service per spatial unit (e.g., from \code{plt_long})}

\item{fid_col}{Column name for feature ID (default: "fid")}

\item{c_fid_col}{Column name for cluster or region ID (default: "c_fid")}

\item{service_col}{Column name for the service name (default: "service")}

\item{value_col}{Column name for the value to rank on (default: "pct_chg")}

\item{combos}{A named list of character vectors, each specifying a group of services to tally per combo}

\item{loss_services}{Character vector of services where low values (losses) are undesirable}

\item{gain_services}{Character vector of services where high values (gains or damages) are undesirable}

\item{pct_cutoff}{Proportion cutoff (e.g., 0.05 for top/bottom 5\%)}

\item{type}{Type of hotspot to return: "negative" (default), "positive", or "both"}

\item{sf_data}{Optional \code{sf} object with geometries to join (must contain \code{fid})}
}
\value{
An \code{sf} object (if \code{sf_data} provided) or \code{data.frame} with:
\itemize{
\item hotspot count and services per feature
\item binary matrix of services
\item combo counts
\item hotspot type classification
}
}
\description{
Identify and summarize spatial hotspots based on service change thresholds
}
