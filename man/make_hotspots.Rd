% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hotposts_export.R
\name{make_hotspots}
\alias{make_hotspots}
\title{Write hotspot layers (global & by subregion) and return an index}
\usage{
make_hotspots(
  plt_long,
  sf_obj = NULL,
  cfg,
  groupings = NULL,
  include_global = TRUE,
  metrics = c("abs", "pct"),
  write_layers = NULL,
  write_index = NULL,
  out_dir = NULL,
  verbose = TRUE
)
}
\arguments{
\item{plt_long}{Long table with columns: fid, service, abs_chg, pct_chg, and group cols.}

\item{sf_obj}{sf grid with a unique \code{fid} column (defaults to reading processed gpkg).}

\item{cfg}{List config (see HOTS_CFG in your QMD): loss, gain, combos, pct_cutoff, etc.}

\item{groupings}{Character vector of grouping column names (e.g., c("income_grp","region_wb",...)).}

\item{include_global}{Logical; also run the global (no-group) case, default TRUE.}

\item{metrics}{Character vector among c("abs","pct") to run.}

\item{write_layers}{Logical; write GPKG layers (overrides cfg$write_layers if given).}

\item{write_index}{Logical; write CSV index (overrides cfg$write_index if given).}

\item{out_dir}{Optional output dir (defaults to cfg$out_dir).}

\item{verbose}{Logical; print progress.}
}
\value{
Tibble with columns: scope, group_col, group_val, metric, n_hot, gpkg
}
\description{
Computes hotspots once per metric and scope (global and/or per group value),
writes compact GPKG layers (hotspot features only), and returns a tibble index.
}
