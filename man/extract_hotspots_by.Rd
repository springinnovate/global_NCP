% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_hotspots_by.R
\name{extract_hotspots_by}
\alias{extract_hotspots_by}
\title{Extract hotspots by grouping column(s)}
\usage{
extract_hotspots_by(
  df_long,
  group_cols,
  loss,
  gain,
  value_col = "pct_chg",
  pct_cutoff = 0.05,
  threshold_mode = c("percent", "count"),
  rule_mode = c("vectors", "explicit"),
  combos = NULL,
  id_cols = NULL
)
}
\arguments{
\item{df_long}{Long-format table (e.g., \code{plt_long}) containing \code{fid},
\code{service}, and the supplied \code{value_col}.}

\item{group_cols}{Character vector of column names to group by.}

\item{loss}{Character vector of services “worse when down”.}

\item{gain}{Character vector of services “worse when up”.}

\item{value_col}{Name of numeric column to rank (default \code{pct_chg}).}

\item{pct_cutoff}{Percentile cutoff (passed to \code{\link[=extract_hotspots]{extract_hotspots()}}).}

\item{threshold_mode}{Hotspot threshold mode (default \code{"percent"}).}

\item{rule_mode}{Hotspot rule interpretation (default \code{"vectors"}).}

\item{combos}{Optional named list of combo definitions.}

\item{id_cols}{Optional columns to carry through summaries.}
}
\value{
Tibble with one row per group value and a \code{hotspots_df} column.
}
\description{
Splits a long-form change table by one or more grouping columns and runs
\code{\link[=extract_hotspots]{extract_hotspots()}} on each subset, returning a tibble with the grouping
values and a list-column of hotspot rows.
}
