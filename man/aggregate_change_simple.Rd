% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregate_change_simple.R, R/trimmed_change.R
\name{aggregate_change_simple}
\alias{aggregate_change_simple}
\title{Aggregate trimmed change by group (simple, fast)}
\usage{
aggregate_change_simple(
  plt_long,
  group_col,
  cut_q = 0.999,
  drop_zeros = TRUE,
  svc_order = NULL,
  include_global = FALSE,
  keep_only_ordered = TRUE
)

aggregate_change_simple(
  plt_long,
  group_col,
  cut_q = 0.999,
  drop_zeros = TRUE,
  svc_order = NULL,
  include_global = FALSE,
  keep_only_ordered = TRUE
)
}
\arguments{
\item{plt_long}{data.frame with service, abs_chg, pct_chg and the grouping col}

\item{group_col}{character scalar (e.g., "region_wb")}

\item{cut_q}{trim quantile for |change| (default 0.999)}

\item{drop_zeros}{logical; drop rows where both metrics are 0}

\item{svc_order}{character vector with the \emph{only} services to plot and their order}

\item{include_global}{logical; add a Global bar per facet}

\item{keep_only_ordered}{logical; if TRUE (default) drop services not in svc_order}

\item{add_global}{Logical; if TRUE add a “Global” row per service.}
}
\value{
Tibble with columns: service, {group_col}, abs_mean, pct_mean.

tibble: service, {group_col}, abs_mean, pct_mean
}
\description{
For each service, trims extreme cell values, then aggregates the mean
magnitude of absolute and percent change within each group (e.g., region).
}
